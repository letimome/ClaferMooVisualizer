ClaferMooVisualizer
===================
v0.3.2.24-01-2013

Visualizes Pareto Front and allows to perform analysis of the Pareto Front.

### Background

[Clafer](http://clafer.org) is a general-purpose lightweight structural modeling language developed at [GSD Lab](http://gsd.uwaterloo.ca/), [University of Waterloo](http://uwaterloo.ca). Clafer can be used for *product-line modeling* and *multi-objective optimization*, whereby a the model of a product line can be used to find optimal products given a set of optimization goals. 

### Functions

1. Displays all the optimal product configurations generated by [ClaferMoo](https://github.com/gsdlab/claferMooStandalone) as a Bubble Chart (up to 4 dimensions) and as a table

2. Allows to compare and analyze product configurations

3. Shows possible ways of grouping configurations together  

### Nature

ClaferMoo Visualizer is a web-based application. Its server side (implemented with Node.JS) only runs ClaferMoo and passes back its output.
The client-side is implemented using Javascript/HTML and handles all the basic functionality.

### Live demo

[http://gsd.uwaterloo.ca/5002](http://gsd.uwaterloo.ca/5002)

Installation
------------

### Dependencies for running

* [Clafer](https://github.com/gsdlab/clafer.git) - can also be downloaded [claferIG downloads](https://github.com/gsdlab/claferig/downloads) page as a binary

* [ClaferMoo](https://github.com/gsdlab/claferMooStandalone)

* [Java](http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html)

* [Python](http://www.python.org/getit/) 2.x >= 2.7 

* [Node.JS Framework](http://nodejs.org/download/), the stable version "0.8.18". Exactly this version should be installed, since the tool has not been tested with other versions.

### Installation

1. Install [ClaferMooStandalone](https://github.com/gsdlab/claferMooStandalone) to some directory `<ClaferMooStandalone>`
  * Clafer is installed as part of this procedure
2. Download [ClaferMooVisualizer](https://github.com/gsdlab/claferMooVisualizer) to some directory `<target directory>`
3. Copy folders `spl_datagenerator` and `tools` folders from `<ClaferMooStandalone>/2012-models-clafermultiobjective-data-generator/` into `<target directory>/ClaferMooVisualizer/Server/ClaferMoo`
4. Go to `<target directory>/ClaferMooVisualizer/Server` and execute
	
 `npm install`

### Settings

1. Make sure the port `8080` is free, or change the variable value in `server.js`:
`var port = 8080;` to any free one. This would be brought to the configuration settings file later.

2. Make sure `clafer`, `node`, `python`, and `java` are in `PATH` environment variables, so they can be executed without any path prefixes.

Running the following commands should produce the following results:

`clafer -V` 

> `Clafer v0.3.1.17-10-2012`

`python -V`

> `Python 2.7.3`

`java -version`

> `java version 1.7.0_09`
> `Java(TM) SE Runtime Environment (build 1.7.0_09-b05)`
> `Java HotSpot(TM) 64-Bit Server VM (build 23.5-b02, mixed mode)`

`node -v`

>v0.8.18

3. Make sure *uploads* folder is accessible for writing, since temporary files will be stored there.

4. Alloy solutions XML files are stored in the root, it is not fixed yet, so make sure the root folder is also writeable.

### Running

To run the server execute
	
`node server.js`
 
from `<target directory>/ClaferMooVisualizer/Server/`

Then you can go to any browser and type `http://localhost:[port]/` and open any Clafer file with objectives in it.
